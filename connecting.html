<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Connection methods and details &mdash; Broadcom Ansible Collections for Mainframe  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/ansible.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/rtd-ethical-ads.css" type="text/css" />
    <link rel="shortcut icon" href="_static/images/Ansible-Mark-RGB_Black.svg"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=5929fcd5"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Troubleshooting" href="troubleshooting.html" />
    <link rel="prev" title="Using collections" href="using.html" /><!-- extra head elements for Ansible beyond RTD Sphinx Theme -->




</head>

<body class="wy-body-for-nav"><!-- extra body elements for Ansible beyond RTD Sphinx Theme -->

<div class="DocSite-globalNav ansibleNav">
  <ul>
    <li><a href="https://www.ansible.com/ansiblefest" target="_blank">AnsibleFest</a></li>
    <li><a href="https://www.ansible.com/tower" target="_blank">Products</a></li>
    <li><a href="https://www.ansible.com/community" target="_blank">Community</a></li>
    <li><a href="https://www.ansible.com/webinars-training" target="_blank">Webinars & Training</a></li>
    <li><a href="https://www.ansible.com/blog" target="_blank">Blog</a></li>
  </ul>
</div>

<a class="DocSite-nav" href="/" style="padding-bottom: 30px;">

  <img class="DocSiteNav-logo"
    src="_static/images/Ansible-Mark-RGB_White.svg"
    alt="Ansible Logo">
  <div class="DocSiteNav-title">Broadcom Ansible Collections for Mainframe  documentation</div>
</a>
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Broadcom Ansible Collections for Mainframe
          </a><!--- Based on https://github.com/rtfd/sphinx_rtd_theme/pull/438/files -->

<div class="version">
  
    
  
</div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" class="st-default-search-input" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="using.html">Using collections</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Connection methods and details</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#setting-up-ssh-keys">Setting up SSH keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setting-up-ssh-password">Setting up SSH password</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setting-up-basic-http-authentication">Setting up “basic” HTTP authentication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#providing-credentials-in-the-inventory">Providing credentials in the inventory</a></li>
<li class="toctree-l3"><a class="reference internal" href="#providing-credentials-as-module-arguments">Providing credentials as module arguments</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#providing-connection-parameters">Providing connection parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#providing-connection-parameters-in-facts">Providing connection parameters in facts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-defaults">Module defaults</a></li>
<li class="toctree-l2"><a class="reference internal" href="#connecting-to-an-api-service-via-zowe-api-mediation-layer">Connecting to an API service via Zowe API Mediation Layer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Collections</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="generated/broadcom/ca7/index.html">broadcom.ca7</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/broadcom/dbm_db2/index.html">broadcom.dbm_db2</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/broadcom/endevor/index.html">broadcom.endevor</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/broadcom/endevor_bridge_for_git/index.html">broadcom.endevor_bridge_for_git</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/broadcom/file_master_plus/index.html">broadcom.file_master_plus</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/broadcom/idms/index.html">broadcom.idms</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/broadcom/mat/index.html">broadcom.mat</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/broadcom/mat_pma_util/index.html">broadcom.mat_pma_util</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/broadcom/ops/index.html">broadcom.ops</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/broadcom/spool/index.html">broadcom.spool</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/broadcom/sysview/index.html">broadcom.sysview</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/broadcom/view/index.html">broadcom.view</a></li>
<li class="toctree-l1"><a class="reference internal" href="generated/broadcom/zowe_core/index.html">broadcom.zowe_core</a></li>
</ul>
<!-- extra nav elements for Ansible beyond RTD Sphinx Theme -->

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Broadcom Ansible Collections for Mainframe</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Connection methods and details</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/connecting.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">

  
           <div itemprop="articleBody">
             
  <section id="connection-methods-and-details">
<h1>Connection methods and details<a class="headerlink" href="#connection-methods-and-details" title="Link to this heading"></a></h1>
<p>This section shows you how to expand and refine the connection methods Ansible uses for your inventory
and how to specify connection parameters for Broadcom API services that are used by Broadcom Ansible Collections for Mainframe.</p>
<p>There are two methods are mainframe-related Ansible modules are connecting to mainframe systems:</p>
<ol class="arabic">
<li><p>SSH</p>
<blockquote>
<div><p>SSH is used by built-in Ansible modules, <code class="docutils literal notranslate"><span class="pre">ibm.ibm_zos_core</span></code> collection, <code class="docutils literal notranslate"><span class="pre">ibm.ibm_zos_ims</span></code> collection,
and many other collections. SSH is needed for Ansible functionality such as gathering facts from the managed systems.</p>
</div></blockquote>
</li>
<li><p>REST APIs via HTTPS</p>
<blockquote>
<div><p>A lot mainframe services can be accessed remotely via HTTPS and calling their REST APIs.
This is the case of all Broadcom Ansible Collections for Mainframe and IBM collections such as <code class="docutils literal notranslate"><span class="pre">ibm.ibm_zosmf</span></code> or <code class="docutils literal notranslate"><span class="pre">ibm.ibm_zos_cics</span></code>.</p>
</div></blockquote>
</li>
</ol>
<p>It is recommended to be configured so you can get most of the Ansible and mainframe-related collections.</p>
<p>SSH keys are encouraged method for authentication to SSH.
All REST APIs support “Basic” HTTP authentication scheme defined in defined in RFC 7617.
That is using z/OS user ID and password as credentials.</p>
<section id="setting-up-ssh-keys">
<h2>Setting up SSH keys<a class="headerlink" href="#setting-up-ssh-keys" title="Link to this heading"></a></h2>
<p>You need to create an SSH key pair. See <a class="reference external" href="https://www.ssh.com/academy/ssh/keygen">How to use ssh-keygen to generate a new SSH key</a>.</p>
<p>The public SSH key needs to be trusted by the remote systems, see how to use <a class="reference external" href="https://www.ssh.com/academy/ssh/copy-id">ssh-copy-id for copying SSH keys to servers</a>.</p>
<p>For more details about Ansible and SSH, see <a class="reference external" href="https://docs.ansible.com/ansible/latest/user_guide/connection_details.html#setting-up-ssh-keys">Setting up SSH keys</a> in Ansible documentation.</p>
<p>The SSH keys can be stored in z/OS key rings, for more information see:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://knowledge.broadcom.com/external/article?articleId=227610">Setting up z/OS Ansible Core to use OpenSSH with ACF2 Key Rings</a></p></li>
<li><p><a class="reference external" href="https://www.ibm.com/docs/en/zos/2.5.0?topic=susd-steps-setting-up-server-authentication-when-keys-are-stored-in-key-rings">Steps for setting up server authentication when keys are stored in RACF key rings</a></p></li>
</ul>
<p>To setup the user ID that will be used on z/OS, use <code class="docutils literal notranslate"><span class="pre">ansible_user</span></code> variable in the inventory.</p>
</section>
<section id="setting-up-ssh-password">
<h2>Setting up SSH password<a class="headerlink" href="#setting-up-ssh-password" title="Link to this heading"></a></h2>
<p>If you are not using SSH keys, you can use password authentication if needed with the <cite>–ask-pass</cite> option
or by setting <cite>ansible_password</cite> in the inventory. If you do that, you should protect the password as it described in
<a class="reference external" href="https://docs.ansible.com/ansible/latest/network/getting_started/first_inventory.html#protecting-sensitive-variables-with-ansible-vault">Protecting sensitive variables with ansible-vault</a>.</p>
<p>To setup the user ID that will be used on z/OS, use <code class="docutils literal notranslate"><span class="pre">ansible_user</span></code> variable in the inventory.</p>
</section>
<section id="setting-up-basic-http-authentication">
<h2>Setting up “basic” HTTP authentication<a class="headerlink" href="#setting-up-basic-http-authentication" title="Link to this heading"></a></h2>
<p>All Broadcom Ansible Collections for Mainframe have the same way how credentials for HTTP authentication are provided to Ansible.</p>
<section id="providing-credentials-in-the-inventory">
<h3>Providing credentials in the inventory<a class="headerlink" href="#providing-credentials-in-the-inventory" title="Link to this heading"></a></h3>
<p>The user ID is taken from the value provided in <code class="docutils literal notranslate"><span class="pre">ansible_user</span></code> variable.
The password is taken from <code class="docutils literal notranslate"><span class="pre">zos_password</span></code> or <code class="docutils literal notranslate"><span class="pre">ansible_password</span></code> variables.
Use <code class="docutils literal notranslate"><span class="pre">zos_password</span></code> when SSH keys are used and <code class="docutils literal notranslate"><span class="pre">ansible_password</span></code> when SSH password is used instead of SSH keys.
We recommend <a class="reference external" href="https://docs.ansible.com/ansible/latest/network/getting_started/first_inventory.html#protecting-sensitive-variables-with-ansible-vault">protecting sensitive variables with ansible-vault</a>.</p>
</section>
<section id="providing-credentials-as-module-arguments">
<h3>Providing credentials as module arguments<a class="headerlink" href="#providing-credentials-as-module-arguments" title="Link to this heading"></a></h3>
<p>All the modules of Broadcom Ansible Collections for Mainframe accept parameters <code class="docutils literal notranslate"><span class="pre">user</span></code> and <code class="docutils literal notranslate"><span class="pre">password</span></code> that can be used to provide credentials or override those that are in the inventory.</p>
</section>
</section>
<section id="providing-connection-parameters">
<h2>Providing connection parameters<a class="headerlink" href="#providing-connection-parameters" title="Link to this heading"></a></h2>
<p>Broadcom Ansible Collections for Mainframe connect to mainframe services using REST APIs running on the system. This requires to provide the connection port.</p>
<p>In the following example, we will connect to <a class="reference external" href="https://techdocs.broadcom.com/us/en/ca-mainframe-software/devops/ca-endevor-software-change-manager/18-0/using/using-the-rest-api.html">Endevor REST API</a> that is listening on HTTPS port <code class="docutils literal notranslate"><span class="pre">6032</span></code> of the <code class="docutils literal notranslate"><span class="pre">sys1.your.company.net</span></code> system.
If you are not sure what is the correct port, consult your system programmer.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">broadcom</span><span class="p">:</span>
<span class="w">  </span><span class="nt">endevor</span><span class="p">:</span>
<span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6032</span>
</pre></div>
</div>
<p>There are more connection parameters that you can use:</p>
<dl class="glossary">
<dt id="term-protocol"><code class="docutils literal notranslate"><span class="pre">protocol</span></code><a class="headerlink" href="#term-protocol" title="Link to this term"></a></dt><dd><p>Specifies the protocol used for connecting to REST API service. It depends on the service configuration and the default is <cite>https</cite>.</p>
</dd>
<dt id="term-reject_unauthorized"><code class="docutils literal notranslate"><span class="pre">reject_unauthorized</span></code><a class="headerlink" href="#term-reject_unauthorized" title="Link to this term"></a></dt><dd><p>Specify this option to have the server certificate not verified against the list of supplied certificate authorities.
Choices are <code class="docutils literal notranslate"><span class="pre">y</span></code> or <code class="docutils literal notranslate"><span class="pre">n</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
</dd>
<dt id="term-host"><code class="docutils literal notranslate"><span class="pre">host</span></code><a class="headerlink" href="#term-host" title="Link to this term"></a></dt><dd><p>Specifies the host name of the API service. By default, the current Ansible host is used. You can use this parameters
to use a different system for this service. This is useful when one service is shared by multiple systems.
For example, source code can be stored in Endevor instance on one system and used on all systems.</p>
</dd>
<dt id="term-base_path"><code class="docutils literal notranslate"><span class="pre">base_path</span></code><a class="headerlink" href="#term-base_path" title="Link to this term"></a></dt><dd><p>Specifies the <em>base path</em> used for connecting to API service. The base path is the part that is appended
after the host name and port and followed by the <em>endpoint path</em>. The default value of the base path is set to
work well with a standalone instances for the API service so you do not need to change that when you access
the API directly.</p>
<p>You need to provide <code class="docutils literal notranslate"><span class="pre">base_path</span></code> when you are connecting to the API via the Zowe API Mediation
Layer, see <a class="reference internal" href="#connecting-to-an-api-service-via-zowe-api-mediation-layer">Connecting to an API service via Zowe API Mediation Layer</a>.</p>
<p>Another reason for providing <code class="docutils literal notranslate"><span class="pre">base_path</span></code> is the case when the API service is configured
with a different than the default <code class="docutils literal notranslate"><span class="pre">base_path</span></code>.</p>
<p>For detailed explaination of terms like base path or endpoint path, see <a class="reference external" href="https://docs.zowe.org/stable/extend/extend-apiml/api-mediation-components-of-url/">Components of URL</a>.</p>
</dd>
</dl>
</section>
<section id="providing-connection-parameters-in-facts">
<h2>Providing connection parameters in facts<a class="headerlink" href="#providing-connection-parameters-in-facts" title="Link to this heading"></a></h2>
<p>The connection parameters of Broadcom Ansible Collections for Mainframe can be stored in the inventory or stored in Ansible facts,
they can be provided as parameters of the playbooks.</p>
<p>To see how you can store facts on the remove system including z/OS,
see <a class="reference external" href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_vars_facts.html#facts-d-or-local-facts">facts.d or local facts</a>.</p>
<p>Storing local facts on z/OS systems allows system programmer to set the parameters only once per system and have them used
by all playbooks using the system without the need to define them in each inventory.</p>
<p>To setup local facts on a z/OS system, edit file <code class="docutils literal notranslate"><span class="pre">/etc/ansible/facts.d/broadcom.fact</span></code> on that system. The format of the file is <a class="reference external" href="https://en.wikipedia.org/wiki/INI_file">INI</a>.
Each group represents one collection, for example:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[endevor]</span>
<span class="na">port</span><span class="o">=</span><span class="s">6032</span>

<span class="k">[file_master_plus]</span>
<span class="na">port</span><span class="o">=</span><span class="s">6001</span>
<span class="na">reject_unauthorized</span><span class="o">=</span><span class="s">n</span>
</pre></div>
</div>
<p>The playbooks need to specify <code class="docutils literal notranslate"><span class="pre">gather_facts:</span> <span class="pre">true</span></code> or not set <code class="docutils literal notranslate"><span class="pre">gather_facts</span></code> since facts are gathered by default.</p>
<p>Default facts path could be changed in <code class="docutils literal notranslate"><span class="pre">ansible.cfg</span></code> file by parameter <a class="reference external" href="https://docs.ansible.com/ansible/2.4/intro_configuration.html#fact-path">fact-path</a>.</p>
<p>If you are using Ansible within shared syxplex, you could use shared facts file or separate one for each system in the sysplex.
All you have to do is to have path mounted either to file system which is set as shared zFS file system across the sysplex,
or zFS file system which is accesible only from specific system (in this case even in shared sysplex, each system would have specific fact file).
The <cite>/etc</cite> file system is not usually shared among systems in the sysplex. If you use the default path for facts <cite>/etc/ansible/facts.d</cite>, you will have different configuration files for each system.</p>
<p>Ansible store gathered facts or inventory source data into a cache to raise the performance.
If you are making changes in the facts gathering, keep in mind there could be still old setup stored in the cache.
For more information, see <a class="reference external" href="https://docs.ansible.com/ansible/latest/plugins/cache.html#cache-plugins">Cache plugins</a>.</p>
</section>
<section id="module-defaults">
<h2>Module defaults<a class="headerlink" href="#module-defaults" title="Link to this heading"></a></h2>
<p>To learn how default values for module parameters can be set for the entire playbooks, see <a class="reference external" href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_module_defaults.html">Module defaults</a>.</p>
<p>Each collection from Broadcom Ansible Collections for Mainframe defines a <em>module default group</em> that allows to set default values for all modules in the collection.
The name of the group is <code class="docutils literal notranslate"><span class="pre">group/broadcom.&lt;collection</span> <span class="pre">name&gt;.all</span></code>, for example <code class="docutils literal notranslate"><span class="pre">group/broadcom.endevor.all</span></code>.</p>
<p>That allows you to set for example the same Endevor instance for all Endevor tasks in the playbook:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Playbook that uses module_defaults to set instance for all Endevor modules</span>
<span class="w">  </span><span class="nt">hosts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sys1</span>
<span class="w">  </span><span class="nt">collections</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">broadcom.endevor</span>
<span class="w">  </span><span class="nt">gather_facts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">  </span><span class="nt">module_defaults</span><span class="p">:</span>
<span class="w">    </span><span class="nt">group/broadcom.endevor.all</span><span class="p">:</span>
<span class="w">      </span><span class="nt">instance</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ENDEVOR</span>
<span class="w">    </span><span class="c1"># In Ansible below 2.12, you need to specify defaults for each module:</span>
<span class="w">    </span><span class="c1"># broadcom.endevor.list_environments:</span>
<span class="w">    </span><span class="c1">#   instance: ENDEVOR</span>
<span class="w">    </span><span class="c1"># broadcom.endevor.retrieve_element:</span>
<span class="w">    </span><span class="c1">#   instance: ENDEVOR</span>
<span class="w">  </span><span class="nt">tasks</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">List all environments in Endevor SCM</span>
<span class="w">    </span><span class="nt">list_environments</span><span class="p">:</span>
<span class="w">    </span><span class="nt">register</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">environments</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Print environments</span>
<span class="w">    </span><span class="nt">debug</span><span class="p">:</span>
<span class="w">      </span><span class="nt">var</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">environments.list</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Retrieve element from specified inventory location to local file</span>
<span class="w">    </span><span class="nt">retrieve_element</span><span class="p">:</span>
<span class="w">      </span><span class="nt">to_file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">job1.jcl</span>
<span class="w">      </span><span class="nt">environment</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DEV</span>
<span class="w">      </span><span class="nt">system</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MARBLES</span>
<span class="w">      </span><span class="nt">subsystem</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MARBLES</span>
<span class="w">      </span><span class="nt">stage_number</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;*&quot;</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">JCL</span>
<span class="w">      </span><span class="nt">element</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TEST</span>
</pre></div>
</div>
</section>
<section id="connecting-to-an-api-service-via-zowe-api-mediation-layer">
<h2>Connecting to an API service via Zowe API Mediation Layer<a class="headerlink" href="#connecting-to-an-api-service-via-zowe-api-mediation-layer" title="Link to this heading"></a></h2>
<p>When your API service is accessible via Zowe API Mediation Layer, you need to set the <code class="docutils literal notranslate"><span class="pre">host</span></code> and <code class="docutils literal notranslate"><span class="pre">port</span></code>
parameters to the host name of the Zowe API gateway. You will find the correct value of base path
in Zowe API Catalog in the field <em>API Base Path</em> that is displayed in the details for the API service.</p>
<p>The following examples defines connection parameters for the SYSVIEW collection. It uses
SYSVIEW API service. This service is registered in Zowe API Mediation Layer under service ID <code class="docutils literal notranslate"><span class="pre">mysysview</span></code>.
The Zowe API Gateway accessible <code class="docutils literal notranslate"><span class="pre">sys1.your.company.net:7554</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">broadcom</span><span class="p">:</span>
<span class="w">  </span><span class="nt">sysview</span><span class="p">:</span>
<span class="w">    </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sys1.your.company.net</span>
<span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7554</span>
<span class="w">    </span><span class="nt">base_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/mysysview/api/v1</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          

<footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="using.html" class="btn btn-neutral float-left" title="Using collections" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="troubleshooting.html" class="btn btn-neutral float-right" title="Troubleshooting" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Broadcom.</p>
  </div>

  
   Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
  <a href="https://sphinx-ansible-theme.rtfd.io">Sphinx Ansible Theme</a>
  that is based on the
  <a href="https://github.com/readthedocs/sphinx_rtd_theme">Read the Docs theme</a>
  and is maintained by the <a href="https://docs.ansible.com/ansible/4/community/">Ansible Community</a>.


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script><!-- extra footer elements for Ansible beyond RTD Sphinx Theme -->

</body>
</html>